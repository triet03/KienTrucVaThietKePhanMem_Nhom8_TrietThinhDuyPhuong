<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Quản lý tin chờ duyệt</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f9;
      margin: 0;
      display: flex;
    }

    .sidebar {
      width: 220px;
      background-color: #007bff;
      padding: 20px;
      color: white;
      height: 100vh;
    }

    .sidebar h2 {
      margin-top: 0;
      font-size: 22px;
      margin-bottom: 20px;
    }

    .sidebar ul {
      list-style-type: none;
      padding: 0;
    }

    .sidebar ul li {
      margin-bottom: 15px;
    }

    .sidebar ul li a {
      color: white;
      text-decoration: none;
      font-weight: bold;
    }

    .sidebar ul li a:hover {
      text-decoration: underline;
    }

    .main-content {
      flex: 1;
      padding: 30px;
    }

    h1 {
      color: #007bff;
      margin-bottom: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background-color: white;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: left;
    }

    th {
      background-color: #007bff;
      color: white;
    }

    .btn {
      padding: 6px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-right: 5px;
      font-size: 14px;
    }

    .approve {
      background-color: #28a745;
      color: white;
    }

    .reject {
      background-color: #dc3545;
      color: white;
    }

    .no-data {
      margin-top: 20px;
      color: #dc3545;
      font-style: italic;
      font-size: 16px;
    }
  </style>
</head>
<body>

<div class="sidebar">
  <h2>Admin Panel</h2>
  <ul>
    <li><a href="/admin_jobs">Duyệt tin tuyển dụng</a></li>
    <li><a href="/admin/companies">Quản lý công ty</a></li>
    <li><a href="/admin/candidates">Quản lý ứng viên</a></li>
    <li><a href="/admin/locked-accounts">Tài khoản bị khóa</a></li>
    <li><a href="/logout">Đăng xuất</a></li>
  </ul>
</div>

<div class="main-content">
  <h1>Danh sách tin tuyển dụng chờ duyệt</h1>

  <div th:if="${#lists.isEmpty(pendingJobs)}" class="no-data">
    Không có tin tuyển dụng nào đang chờ duyệt.
  </div>

  <table th:if="${!#lists.isEmpty(pendingJobs)}">
    <thead>
    <tr>
      <th>ID</th>
      <th>Tên công việc</th>
      <th>Mô tả</th>
      <th>Công ty</th>
      <th>Email</th>
      <th>Hành động</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="job : ${pendingJobs}">
      <td th:text="${job.jobId}">1</td>
      <td th:text="${job.jobName}">Tên công việc</td>
      <td th:text="${job.jobDesc}">Mô tả</td>
      <td th:text="${job.company != null ? job.company.compName : 'N/A'}">Tên công ty</td>
      <td th:text="${job.company != null ? job.company.email : 'N/A'}">Email</td>
      <td>
        <form th:action="@{'/admin/jobs/approve/' + ${job.jobId}}" method="post" style="display:inline;">
          <button class="btn approve" type="submit">Duyệt</button>
        </form>
        <form th:action="@{'/admin/jobs/reject/' + ${job.jobId}}" method="post" style="display:inline;">
          <button class="btn reject" type="submit">Từ chối</button>
        </form>
      </td>
    </tr>
    </tbody>
  </table>
</div>

</body>
</html>
