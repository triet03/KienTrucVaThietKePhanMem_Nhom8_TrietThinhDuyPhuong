<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Quản lý tin chờ duyệt</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f8f9fa; }
    h1 { color: #007bff; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; background-color: white; }
    th, td { border: 1px solid #ccc; padding: 10px; text-align: left; }
    th { background-color: #007bff; color: white; }
    .btn { padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer; margin-right: 5px; }
    .approve { background-color: #28a745; color: white; }
    .reject { background-color: #dc3545; color: white; }
    .no-data { margin-top: 20px; color: #dc3545; font-style: italic; }
  </style>
</head>
<body>
<h1>Danh sách tin tuyển dụng chờ duyệt</h1>

<div th:if="${#lists.isEmpty(pendingJobs)}" class="no-data">
  Không có tin tuyển dụng nào đang chờ duyệt.
</div>

<table th:if="${!#lists.isEmpty(pendingJobs)}">
  <thead>
  <tr>
    <th>ID</th>
    <th>Tên công việc</th>
    <th>Mô tả</th>
    <th>Công ty</th>
    <th>Email</th>
    <th>Hành động</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="job : ${pendingJobs}">
    <td th:text="${job.jobId}">1</td>
    <td th:text="${job.jobName}">Tên công việc</td>
    <td th:text="${job.jobDesc}">Mô tả</td>
    <td th:text="${job.company != null ? job.company.compName : 'N/A'}">Tên công ty</td>
    <td th:text="${job.company != null ? job.company.email : 'N/A'}">Email</td>
    <td>
      <form th:action="@{'/admin/jobs/approve/' + ${job.jobId}}" method="post" style="display:inline;">
        <button class="btn approve" type="submit">Duyệt</button>
      </form>
      <form th:action="@{'/admin/jobs/reject/' + ${job.jobId}}" method="post" style="display:inline;">
        <button class="btn reject" type="submit">Từ chối</button>
      </form>
    </td>
  </tr>
  </tbody>
</table>
</body>
</html>
